import { createContext, useContext, useState, useEffect, ReactNode } from "react";

type Language = "en" | "pt";

const translations = {
  en: {
    // Navigation
    nav: {
      dashboard: "Dashboard",
      driverDashboard: "My Trips",
      vehicles: "Vehicles",
      bookings: "Bookings",
      sharedRides: "Shared Rides",
      maintenance: "Maintenance",
      inspections: "Inspections",
      fuel: "Fuel Logs",
      users: "Users",
      settings: "Settings",
      equipmentTypes: "Equipment Types",
      reports: "Reports",
      workOrders: "Work Orders",
      workOrderConfig: "Work Order Config",
      logout: "Logout",
    },
    // Common buttons
    buttons: {
      save: "Save",
      cancel: "Cancel",
      delete: "Delete",
      edit: "Edit",
      add: "Add",
      create: "Create",
      submit: "Submit",
      approve: "Approve",
      reject: "Reject",
      export: "Export",
      print: "Print Report",
      close: "Close",
      confirm: "Confirm",
      startTrip: "Start Trip",
      endTrip: "End Trip",
      joinTrip: "Join Trip",
      newBooking: "New Booking",
      newVehicle: "New Vehicle",
      setPending: "Set Pending",
    },
    // Status labels
    status: {
      pending: "Pending",
      approved: "Approved",
      rejected: "Rejected",
      in_progress: "In Progress",
      completed: "Completed",
      cancelled: "Cancelled",
      available: "Available",
      in_use: "In Use",
      maintenance: "Maintenance",
      unavailable: "Unavailable",
      open: "Open",
      full: "Full",
    },
    // Common labels
    labels: {
      language: "Language",
      english: "English",
      portuguese: "Portuguese",
      loading: "Loading...",
      noRecords: "No records found",
      welcome: "Welcome",
      search: "Search",
      filter: "Filter",
      all: "All",
      error: "Error",
      accessDenied: "Access Denied",
      noPermissionDashboard: "You do not have permission to view the Dashboard. Please contact your administrator if you believe this is an error.",
      sessionExpired: "Session Expired",
      sessionTerminated: "Your session has been terminated because your account was logged in from another location.",
    },
    // Dashboard
    dashboard: {
      title: "Dashboard",
      overview: "Overview of your automobile management system",
      totalVehicles: "Total Vehicles",
      inUse: "In Use",
      inMaintenance: "In Maintenance",
      pendingApproval: "Pending Approval",
      available: "available",
      currentlyBooked: "Currently booked",
      requiresAttention: "Requires attention",
      allClear: "All clear",
      actionNeeded: "Action needed",
      noPending: "No pending",
      fuelCostByVehicle: "Fuel Cost by Vehicle",
      top5Vehicles: "Top 5 vehicles by fuel expense",
      total: "total",
      noFuelRecords: "No fuel records yet",
      vehicleStatus: "Vehicle Status",
      currentDistribution: "Current vehicle distribution",
      noVehiclesRegistered: "No vehicles registered",
      bookingOverview: "Booking Overview",
      bookingStatusBreakdown: "Current booking status breakdown",
      completionRate: "Completion Rate",
      recentBookings: "Recent Bookings",
      latestActivity: "Latest booking activity",
      noBookingsYet: "No bookings yet",
    },
    // Vehicles page
    vehicles: {
      title: "Vehicle Management",
      subtitle: "Manage vehicles, track status, and view history.",
      addVehicle: "Add Vehicle",
      editVehicle: "Edit Vehicle",
      addNewVehicle: "Add New Vehicle",
      make: "Make",
      model: "Model",
      year: "Year",
      mileage: "Mileage",
      licensePlate: "License Plate",
      vin: "VIN",
      category: "Category",
      passengerCapacity: "Passenger Capacity",
      status: "Status",
      imageUrl: "Image URL (optional)",
      selectCategory: "Select category",
      selectStatus: "Select status",
      car: "Car (1-5 seats)",
      van: "Van (6-14 seats)",
      bus: "Bus (15+ seats)",
      truck: "Truck",
      seats: "seats",
      adding: "Adding...",
      saving: "Saving...",
      saveChanges: "Save Changes",
      markUnavailable: "Mark Unavailable",
      markAvailable: "Mark Available",
      searchPlaceholder: "Search by make, model, or plate...",
      noVehiclesFound: "No vehicles found",
      adjustSearch: "Try adjusting your search terms.",
      deleteConfirm: "Delete this vehicle?",
      vinPlaceholder: "Unique VIN...",
    },
    // Bookings page
    bookings: {
      title: "Bookings",
      subtitle: "Manage reservations and requests.",
      newBooking: "New Booking",
      requestVehicle: "Request Vehicle",
      selectVehicle: "Select Vehicle",
      chooseVehicle: "Choose an available vehicle",
      currentMileage: "Current Mileage",
      odometerReading: "Odometer Reading (Current Mileage)",
      enterOdometer: "Enter current odometer reading",
      startTime: "Start Time",
      endTime: "End Time",
      destination: "Destination",
      purpose: "Purpose",
      numberOfPassengers: "Number of Passengers",
      vehicleCapacity: "Vehicle capacity",
      passengers: "passengers",
      allowCarSharing: "Allow car sharing",
      sharingDescription: "Let approver combine trips with others going the same way",
      driveType: "Drive Type",
      selfDriven: "Self-driven",
      withDriver: "With assigned driver",
      selfDrivenDesc: "You will drive the vehicle yourself",
      driverAssignedDesc: "A driver will be assigned when approved",
      approver: "Approver (Required)",
      selectApprover: "Select approver",
      submitting: "Submitting...",
      submitRequest: "Submit Request",
      destinationPlaceholder: "City, Location...",
      purposePlaceholder: "Client meeting, Delivery...",
      cancelBooking: "Cancel Booking",
      cancellingFor: "Cancelling booking for",
      cancelReason: "Reason for cancellation",
      cancelPlaceholder: "Please provide a reason for cancelling this booking...",
      goBack: "Go Back",
      cancelling: "Cancelling...",
      confirmCancellation: "Confirm Cancellation",
      approveBooking: "Approve Booking",
      approvingFor: "Approving booking for",
      assignDriver: "Assign Driver",
      selectDriver: "Select a driver",
      driverNotification: "Driver will be notified and can mark the trip as completed",
      noDrivers: "No drivers available. Mark users as drivers in the Users page.",
      approving: "Approving...",
      by: "by",
      tripInProgress: "Trip in progress",
      youreOnThisTrip: "You're on this trip",
    },
    // Shared Rides page
    sharedRides: {
      title: "Shared Rides",
      subtitle: "View available seats and join shared trips.",
      createSharedTrip: "Create Shared Trip",
      createDescription: "Create a shared trip that others can join.",
      vehicleLarge: "Vehicle (6+ seats)",
      chooseLargeVehicle: "Choose a large vehicle",
      departureTime: "Departure Time",
      returnTime: "Return Time",
      destination: "Destination",
      destinationPlaceholder: "Where is the trip going?",
      notesOptional: "Notes (Optional)",
      notesPlaceholder: "Any additional notes...",
      creating: "Creating...",
      joinSharedTrip: "Join Shared Trip",
      joinTripTo: "Join trip to",
      on: "on",
      availableSeats: "Available seats",
      of: "of",
      seatsNeeded: "Number of Seats Needed",
      purposeOfTravel: "Purpose of Travel",
      purposePlaceholder: "Meeting, Training, etc...",
      yourName: "Your Name",
      fullName: "Full name",
      phoneNumber: "Phone Number",
      joining: "Joining...",
      noSharedTrips: "No shared trips available",
      createToStart: "Create a new shared trip to get started.",
      checkBackLater: "Check back later for available trips.",
      noDestination: "No destination set",
      seats: "Seats",
      available: "available",
      passengers: "Passengers",
      seatsLeft: "seats left",
    },
    // Work Orders
    workOrders: {
      title: "Work Orders",
      subtitle: "Maintenance work orders for plant machinery",
      newWorkOrder: "New Work Order",
      editWorkOrder: "Edit Work Order",
      viewWorkOrder: "View Work Order",
      jobNo: "Job No.",
      equipment: "Equipment",
      equipmentNo: "Equipment No.",
      maintenanceType: "Maintenance Type",
      breakdown: "Breakdown",
      preventive: "Preventive",
      general: "General",
      shift: "Shift",
      selectShift: "Select shift",
      date: "Date",
      status: "Status",
      open: "Open",
      inProgress: "In Progress",
      completed: "Completed",
      remarks: "Remarks",
      remarksPlaceholder: "Additional notes...",
      items: "Work Items",
      addItem: "Add Item",
      addDescription: "Add Description",
      subEquipment: "Sub-Equipment",
      selectSubEquipment: "Select sub-equipment",
      activityType: "Activity Type",
      selectActivityType: "Select activity type",
      startTime: "Start Time",
      endTime: "End Time",
      description: "Description",
      descriptionPlaceholder: "Describe the work performed...",
      createdBy: "Created By",
      noWorkOrders: "No work orders found",
      noWorkOrdersMessage: "Create a new work order to get started.",
      creating: "Creating...",
      saving: "Saving...",
      deleteConfirm: "Delete this work order?",
      printWorkOrder: "Print Work Order",
      selectVehicle: "Select equipment",
      noItems: "No work items added",
      addAtLeastOneItem: "Add at least one work item",
      workOrderReport: "Work Order Report",
    },
    // Admin Config
    adminConfig: {
      shifts: "Shifts",
      shiftsSubtitle: "Manage work shifts",
      shiftName: "Shift Name",
      startTime: "Start Time",
      endTime: "End Time",
      activityTypes: "Activity Types",
      activityTypesSubtitle: "Manage activity type categories",
      activityTypeName: "Activity Type Name",
      subEquipment: "Sub-Equipment",
      subEquipmentSubtitle: "Manage sub-equipment list",
      subEquipmentName: "Sub-Equipment Name",
      addShift: "Add Shift",
      addActivityType: "Add Activity Type",
      addSubEquipment: "Add Sub-Equipment",
      editShift: "Edit Shift",
      editActivityType: "Edit Activity Type",
      editSubEquipment: "Edit Sub-Equipment",
      deleteConfirm: "Are you sure you want to delete this item?",
      workOrderConfig: "Work Order Configuration",
      workOrderConfigSubtitle: "Manage shifts, activity types, and sub-equipment for work orders",
      maintenanceTypes: "Maintenance Types",
    },
    // Driver Dashboard
    driverDashboard: {
      title: "My Trips",
      subtitle: "View and manage your assigned trips",
      assignedTrips: "Assigned Trips",
      noTripsAssigned: "No trips assigned",
      noTripsMessage: "You don't have any trips assigned to you yet.",
      vehicle: "Vehicle",
      requester: "Requester",
      destination: "Destination",
      scheduledTime: "Scheduled Time",
      status: "Status",
      tripInProgress: "Trip in Progress",
      tripCompleted: "Trip Completed",
      startOdometer: "Start Odometer",
      endOdometer: "End Odometer",
      enterStartOdometer: "Enter start odometer reading",
      enterEndOdometer: "Enter end odometer reading",
      km: "km",
      errorStartingTrip: "Error starting trip",
      errorEndingTrip: "Error ending trip",
    },
  },
  pt: {
    // Navigation
    nav: {
      dashboard: "Painel",
      driverDashboard: "Minhas Viagens",
      vehicles: "Veículos",
      bookings: "Reservas",
      sharedRides: "Viagens Partilhadas",
      maintenance: "Manutenção",
      inspections: "Inspeções",
      fuel: "Registos de Combustível",
      users: "Utilizadores",
      settings: "Definições",
      equipmentTypes: "Tipos de Equipamento",
      reports: "Relatórios",
      workOrders: "Ordens de Trabalho",
      workOrderConfig: "Config. Ordens Trabalho",
      logout: "Sair",
    },
    // Common buttons
    buttons: {
      save: "Guardar",
      cancel: "Cancelar",
      delete: "Eliminar",
      edit: "Editar",
      add: "Adicionar",
      create: "Criar",
      submit: "Submeter",
      approve: "Aprovar",
      reject: "Rejeitar",
      export: "Exportar",
      print: "Imprimir Relatório",
      close: "Fechar",
      confirm: "Confirmar",
      startTrip: "Iniciar Viagem",
      endTrip: "Terminar Viagem",
      joinTrip: "Aderir à Viagem",
      newBooking: "Nova Reserva",
      newVehicle: "Novo Veículo",
      setPending: "Definir Pendente",
    },
    // Status labels
    status: {
      pending: "Pendente",
      approved: "Aprovado",
      rejected: "Rejeitado",
      in_progress: "Em Curso",
      completed: "Concluído",
      cancelled: "Cancelado",
      available: "Disponível",
      in_use: "Em Uso",
      maintenance: "Manutenção",
      unavailable: "Indisponível",
      open: "Aberto",
      full: "Completo",
    },
    // Common labels
    labels: {
      language: "Idioma",
      english: "Inglês",
      portuguese: "Português",
      loading: "A carregar...",
      noRecords: "Nenhum registo encontrado",
      welcome: "Bem-vindo",
      search: "Pesquisar",
      filter: "Filtrar",
      all: "Todos",
      error: "Erro",
      accessDenied: "Acesso Negado",
      noPermissionDashboard: "Você não tem permissão para visualizar o Painel. Por favor, contacte o seu administrador se acredita que isto é um erro.",
      sessionExpired: "Sessão Expirada",
      sessionTerminated: "A sua sessão foi terminada porque a sua conta foi utilizada noutro local.",
    },
    // Dashboard
    dashboard: {
      title: "Painel",
      overview: "Visão geral do sistema de gestão automóvel",
      totalVehicles: "Total de Veículos",
      inUse: "Em Uso",
      inMaintenance: "Em Manutenção",
      pendingApproval: "Aprovação Pendente",
      available: "disponíveis",
      currentlyBooked: "Actualmente reservados",
      requiresAttention: "Requer atenção",
      allClear: "Tudo em ordem",
      actionNeeded: "Acção necessária",
      noPending: "Sem pendentes",
      fuelCostByVehicle: "Custo de Combustível por Veículo",
      top5Vehicles: "Top 5 veículos por despesa de combustível",
      total: "total",
      noFuelRecords: "Sem registos de combustível",
      vehicleStatus: "Estado dos Veículos",
      currentDistribution: "Distribuição actual dos veículos",
      noVehiclesRegistered: "Nenhum veículo registado",
      bookingOverview: "Visão Geral das Reservas",
      bookingStatusBreakdown: "Repartição do estado das reservas",
      completionRate: "Taxa de Conclusão",
      recentBookings: "Reservas Recentes",
      latestActivity: "Actividade de reservas mais recente",
      noBookingsYet: "Ainda sem reservas",
    },
    // Vehicles page
    vehicles: {
      title: "Gestão de Veículos",
      subtitle: "Gerir veículos, acompanhar estado e ver histórico.",
      addVehicle: "Adicionar Veículo",
      editVehicle: "Editar Veículo",
      addNewVehicle: "Adicionar Novo Veículo",
      make: "Marca",
      model: "Modelo",
      year: "Ano",
      mileage: "Quilometragem",
      licensePlate: "Matrícula",
      vin: "VIN",
      category: "Categoria",
      passengerCapacity: "Capacidade de Passageiros",
      status: "Estado",
      imageUrl: "URL da Imagem (opcional)",
      selectCategory: "Seleccionar categoria",
      selectStatus: "Seleccionar estado",
      car: "Carro (1-5 lugares)",
      van: "Carrinha (6-14 lugares)",
      bus: "Autocarro (15+ lugares)",
      truck: "Camião",
      seats: "lugares",
      adding: "A adicionar...",
      saving: "A guardar...",
      saveChanges: "Guardar Alterações",
      markUnavailable: "Marcar Indisponível",
      markAvailable: "Marcar Disponível",
      searchPlaceholder: "Pesquisar por marca, modelo ou matrícula...",
      noVehiclesFound: "Nenhum veículo encontrado",
      adjustSearch: "Tente ajustar os termos de pesquisa.",
      deleteConfirm: "Eliminar este veículo?",
      vinPlaceholder: "VIN único...",
    },
    // Bookings page
    bookings: {
      title: "Reservas",
      subtitle: "Gerir reservas e pedidos.",
      newBooking: "Nova Reserva",
      requestVehicle: "Solicitar Veículo",
      selectVehicle: "Seleccionar Veículo",
      chooseVehicle: "Escolha um veículo disponível",
      currentMileage: "Quilometragem Actual",
      odometerReading: "Leitura do Odómetro (Quilometragem Actual)",
      enterOdometer: "Introduza a leitura actual do odómetro",
      startTime: "Hora de Início",
      endTime: "Hora de Fim",
      destination: "Destino",
      purpose: "Finalidade",
      numberOfPassengers: "Número de Passageiros",
      vehicleCapacity: "Capacidade do veículo",
      passengers: "passageiros",
      allowCarSharing: "Permitir partilha de veículo",
      sharingDescription: "Permitir que o aprovador combine viagens com outros que vão na mesma direcção",
      driveType: "Tipo de Condução",
      selfDriven: "Auto-conduzido",
      withDriver: "Com motorista atribuído",
      selfDrivenDesc: "Você conduzirá o veículo",
      driverAssignedDesc: "Um motorista será atribuído quando aprovado",
      approver: "Aprovador (Obrigatório)",
      selectApprover: "Seleccionar aprovador",
      submitting: "A submeter...",
      submitRequest: "Submeter Pedido",
      destinationPlaceholder: "Cidade, Local...",
      purposePlaceholder: "Reunião com cliente, Entrega...",
      cancelBooking: "Cancelar Reserva",
      cancellingFor: "A cancelar reserva para",
      cancelReason: "Motivo do cancelamento",
      cancelPlaceholder: "Por favor indique o motivo para cancelar esta reserva...",
      goBack: "Voltar",
      cancelling: "A cancelar...",
      confirmCancellation: "Confirmar Cancelamento",
      approveBooking: "Aprovar Reserva",
      approvingFor: "A aprovar reserva para",
      assignDriver: "Atribuir Motorista",
      selectDriver: "Seleccionar um motorista",
      driverNotification: "O motorista será notificado e poderá marcar a viagem como concluída",
      noDrivers: "Nenhum motorista disponível. Marque utilizadores como motoristas na página Utilizadores.",
      approving: "A aprovar...",
      by: "por",
      tripInProgress: "Viagem em curso",
      youreOnThisTrip: "Está nesta viagem",
    },
    // Shared Rides page
    sharedRides: {
      title: "Viagens Partilhadas",
      subtitle: "Ver lugares disponíveis e aderir a viagens partilhadas.",
      createSharedTrip: "Criar Viagem Partilhada",
      createDescription: "Criar uma viagem partilhada a que outros podem aderir.",
      vehicleLarge: "Veículo (6+ lugares)",
      chooseLargeVehicle: "Escolha um veículo grande",
      departureTime: "Hora de Partida",
      returnTime: "Hora de Regresso",
      destination: "Destino",
      destinationPlaceholder: "Para onde vai a viagem?",
      notesOptional: "Notas (Opcional)",
      notesPlaceholder: "Quaisquer notas adicionais...",
      creating: "A criar...",
      joinSharedTrip: "Aderir à Viagem Partilhada",
      joinTripTo: "Aderir à viagem para",
      on: "em",
      availableSeats: "Lugares disponíveis",
      of: "de",
      seatsNeeded: "Número de Lugares Necessários",
      purposeOfTravel: "Finalidade da Viagem",
      purposePlaceholder: "Reunião, Formação, etc...",
      yourName: "O Seu Nome",
      fullName: "Nome completo",
      phoneNumber: "Número de Telefone",
      joining: "A aderir...",
      noSharedTrips: "Nenhuma viagem partilhada disponível",
      createToStart: "Crie uma nova viagem partilhada para começar.",
      checkBackLater: "Verifique mais tarde para viagens disponíveis.",
      noDestination: "Sem destino definido",
      seats: "Lugares",
      available: "disponíveis",
      passengers: "Passageiros",
      seatsLeft: "lugares restantes",
    },
    // Work Orders
    workOrders: {
      title: "Ordens de Trabalho",
      subtitle: "Ordens de trabalho de manutenção para maquinaria industrial",
      newWorkOrder: "Nova Ordem de Trabalho",
      editWorkOrder: "Editar Ordem de Trabalho",
      viewWorkOrder: "Ver Ordem de Trabalho",
      jobNo: "N.º Trabalho",
      equipment: "Equipamento",
      equipmentNo: "N.º Equipamento",
      maintenanceType: "Tipo de Manutenção",
      breakdown: "Avaria",
      preventive: "Preventiva",
      general: "Geral",
      shift: "Turno",
      selectShift: "Seleccionar turno",
      date: "Data",
      status: "Estado",
      open: "Aberto",
      inProgress: "Em Curso",
      completed: "Concluído",
      remarks: "Observações",
      remarksPlaceholder: "Notas adicionais...",
      items: "Itens de Trabalho",
      addItem: "Adicionar Item",
      addDescription: "Adicionar Descrição",
      subEquipment: "Sub-Equipamento",
      selectSubEquipment: "Seleccionar sub-equipamento",
      activityType: "Tipo de Actividade",
      selectActivityType: "Seleccionar tipo de actividade",
      startTime: "Hora de Início",
      endTime: "Hora de Fim",
      description: "Descrição",
      descriptionPlaceholder: "Descreva o trabalho realizado...",
      createdBy: "Criado Por",
      noWorkOrders: "Nenhuma ordem de trabalho encontrada",
      noWorkOrdersMessage: "Crie uma nova ordem de trabalho para começar.",
      creating: "A criar...",
      saving: "A guardar...",
      deleteConfirm: "Eliminar esta ordem de trabalho?",
      printWorkOrder: "Imprimir Ordem de Trabalho",
      selectVehicle: "Seleccionar equipamento",
      noItems: "Nenhum item de trabalho adicionado",
      addAtLeastOneItem: "Adicione pelo menos um item de trabalho",
      workOrderReport: "Relatório de Ordem de Trabalho",
    },
    // Admin Config
    adminConfig: {
      shifts: "Turnos",
      shiftsSubtitle: "Gerir turnos de trabalho",
      shiftName: "Nome do Turno",
      startTime: "Hora de Início",
      endTime: "Hora de Fim",
      activityTypes: "Tipos de Actividade",
      activityTypesSubtitle: "Gerir categorias de tipos de actividade",
      activityTypeName: "Nome do Tipo de Actividade",
      subEquipment: "Sub-Equipamento",
      subEquipmentSubtitle: "Gerir lista de sub-equipamento",
      subEquipmentName: "Nome do Sub-Equipamento",
      addShift: "Adicionar Turno",
      addActivityType: "Adicionar Tipo de Actividade",
      addSubEquipment: "Adicionar Sub-Equipamento",
      editShift: "Editar Turno",
      editActivityType: "Editar Tipo de Actividade",
      editSubEquipment: "Editar Sub-Equipamento",
      deleteConfirm: "Tem a certeza que deseja eliminar este item?",
      workOrderConfig: "Configuração de Ordens de Trabalho",
      workOrderConfigSubtitle: "Gerir turnos, tipos de actividade e sub-equipamento para ordens de trabalho",
      maintenanceTypes: "Tipos de Manutenção",
    },
    // Driver Dashboard
    driverDashboard: {
      title: "Minhas Viagens",
      subtitle: "Ver e gerir as suas viagens atribuídas",
      assignedTrips: "Viagens Atribuídas",
      noTripsAssigned: "Nenhuma viagem atribuída",
      noTripsMessage: "Ainda não tem viagens atribuídas.",
      vehicle: "Veículo",
      requester: "Requisitante",
      destination: "Destino",
      scheduledTime: "Hora Programada",
      status: "Estado",
      tripInProgress: "Viagem em Curso",
      tripCompleted: "Viagem Concluída",
      startOdometer: "Quilometragem Inicial",
      endOdometer: "Quilometragem Final",
      enterStartOdometer: "Introduza a quilometragem inicial",
      enterEndOdometer: "Introduza a quilometragem final",
      km: "km",
      errorStartingTrip: "Erro ao iniciar viagem",
      errorEndingTrip: "Erro ao terminar viagem",
    },
  },
};

type Translations = typeof translations.en;

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: Translations;
}

const LanguageContext = createContext<LanguageContextType | null>(null);

export function LanguageProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<Language>(() => {
    const saved = localStorage.getItem("vms-language");
    return (saved as Language) || "en";
  });

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem("vms-language", lang);
  };

  useEffect(() => {
    const saved = localStorage.getItem("vms-language");
    if (saved && (saved === "en" || saved === "pt")) {
      setLanguageState(saved);
    }
  }, []);

  const t = translations[language];

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error("useLanguage must be used within a LanguageProvider");
  }
  return context;
}
